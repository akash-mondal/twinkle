# ===========================================
# Twinkle Backend Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# See docs/ENVIRONMENT.md for detailed documentation

# ===========================================
# REQUIRED: Infrastructure
# ===========================================

# PostgreSQL Database
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://twinkle:twinkle_dev_password@localhost:5432/twinkle
PONDER_DATABASE_URL=postgresql://twinkle:twinkle_dev_password@localhost:5432/twinkle

# Redis
# Format: redis://[:password@]host:port[/db]
REDIS_URL=redis://localhost:6379

# ===========================================
# REQUIRED: Blockchain RPC
# ===========================================

# Sepolia RPC Endpoint (Chain ID: 11155111)
# Get from: Alchemy (https://alchemy.com), Infura (https://infura.io), or other providers
# Multiple URLs can be comma-separated for fallback
PONDER_RPC_URL_11155111=https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY
# Alternative: https://sepolia.infura.io/v3/YOUR_PROJECT_ID
# Fallback: https://provider1.com/key,https://provider2.com/key

# ===========================================
# REQUIRED: Facilitator (x402 Settlement)
# ===========================================

# Private key for settlement transactions
# SECURITY: Never commit this! Use secrets manager in production
# Must have Sepolia ETH for gas
FACILITATOR_PRIVATE_KEY=0x0000000000000000000000000000000000000000000000000000000000000001

# ===========================================
# OPTIONAL: Service Ports
# ===========================================

# API REST Server
API_PORT=3000

# Facilitator HTTP Server
FACILITATOR_PORT=3001

# ===========================================
# OPTIONAL: Indexer Configuration
# ===========================================

# Block to start indexing from (should be before contract deployment)
START_BLOCK=10016000

# Chain ID (Sepolia = 11155111)
CHAIN_ID=11155111

# ===========================================
# OPTIONAL: Worker Configuration
# ===========================================

# Number of concurrent background job processors
WORKER_CONCURRENCY=5

# ===========================================
# OPTIONAL: Logging & Environment
# ===========================================

# Log level: trace, debug, info, warn, error, fatal
# Development: debug | Production: info | MCP Server: warn
LOG_LEVEL=debug

# Environment: development, production, test
NODE_ENV=development

# ===========================================
# OPTIONAL: Security
# ===========================================

# Secret for API key generation (if using API key auth)
API_KEY_SECRET=your-api-key-secret-here

# ===========================================
# OPTIONAL: Observability
# ===========================================

# Sentry Error Tracking
# Get DSN from: https://sentry.io
SENTRY_DSN=

# OpenTelemetry Collector Endpoint
# For distributed tracing (Jaeger, Zipkin, etc.)
OTEL_EXPORTER_OTLP_ENDPOINT=

# ===========================================
# CONTRACT ADDRESSES (Sepolia Testnet)
# These are pre-configured in the shared package
# Override only if using different deployments
# ===========================================

# TWINKLE_CORE=0x0DF0E3024350ea0992a7485aDbDE425a79983c09
# TWINKLE_PAY=0xAE1a483ce67a796FcdC7C986CbB556f2975bE190
# TWINKLE_SPLIT=0x987c621118D66A1F58C032EBdDe8F4f3385B71E4
# TWINKLE_ESCROW=0xa04CE96fccBB6C08eA930dB97B8479F33F8f5931
# TWINKLE_SUBSCRIPTION=0xa4436C50743FF1eD0C38318A32F502b2A5F899E6
# TWINKLE_X402=0x1E23bfd3A09cbC1b14Eab392068C6eB9217730C3
# TESTMNEE_PROXY=0xF730d47c3003eCaE2608C452BCD5b0edf825e51C
# SABLIER_LOCKUP=0x6b0307b4338f2963A62106028E3B074C2c0510DA
